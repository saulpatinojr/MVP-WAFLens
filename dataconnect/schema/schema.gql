# User table (from original schema, kept for auth)
type User @table {
  id: String! @default(expr: "auth.uid")
  email: String! @col(dataType: "varchar(255)")
  displayName: String
}

# Pillar represents a Well-Architected Framework Pillar (e.g., Security, Reliability)
type Pillar @table {
  name: String!
  slug: String! @unique
  description: String
  # Score value (0-100)
  score: Int
  # Comparison value (e.g., last month's score)
  previousScore: Int
  # Last updated timestamp
  updatedAt: Date! @default(expr: "request.time")
}

# ActionItem represents a recommended action for improvement
type ActionItem @table {
  name: String!
  uuid: String! @unique
  type: String! # e.g., "Critical", "Warning"
  recommendationAction: String!
  date: Date!
  state: String! # e.g., "Active", "Resolved"
  cost: Float
  pillar: Pillar # Optional relation to a pillar
}

# Metric for charts (e.g., Optimization, Observability)
type Metric @table {
  name: String!
  category: String! # e.g., "Optimization", "Observability"
  value: Float!
  date: Date!
}
